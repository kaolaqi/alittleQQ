webpackJsonp([12],{128:function(t,e,n){"use strict";var i=n(165);n.d(e,"a",function(){return i.a})},129:function(t,e,n){"use strict";var i=n(44),a=n(65),s=n(68),o=["/login","/registe"];i.a.beforeEach(function(t,e,n){var i=s.a.getToken();if(i)if("/login"===t.path)n({path:"/"});else{var r=a.a.getters.userId;r?n():a.a.dispatch("user/GetUserInfo",{mobile:i}).then(function(){n()})}else-1!==o.indexOf(t.path)?n():n("/login?redirect="+t.path)})},130:function(t,e){},132:function(t,e,n){function i(t){n(210)}var a=n(23)(n(156),n(303),i,null,null);t.exports=a.exports},133:function(t,e,n){"use strict";var i=n(166);n.d(e,"a",function(){return i.a})},156:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(175);e.default={name:"App",created:function(){n.i(i.a)(750);var t=0;document.addEventListener("touchstart",function(t){t.touches.length>1&&t.preventDefault()}),document.addEventListener("touchend",function(e){var n=(new Date).getTime();n-t<=300&&e.preventDefault(),t=n},!1),document.addEventListener("gesturestart",function(t){t.preventDefault()}),document.addEventListener("gestureend",function(t){t.preventDefault()})}}},157:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"LayoutIndex"}},158:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"ModalsAlert",data:function(){return{isVisible:!1,title:"",content:"",confirmText:"",onClickConfirm:!1}},methods:{use:function(t){this.title=t.title?t.title:"提示",this.content=t.content?t.content:"",this.confirmText=t.confirmText?t.confirmText:"",this.onClickConfirm=t.onClickConfirm?t.onClickConfirm:"",this.isVisible=!0},hide:function(){this.isVisible=!1},submitComfirm:function(){this.onClickConfirm&&this.onClickConfirm(),this.hide()}}}},159:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"modalsConfirm",data:function(){return{isVisible:!1,title:"",warnIcon:!1,content:"",confirmText:"",confirmStyle:{},confirmClick:!1,cancelText:"",cancelStyle:{},cancelClick:!1}},methods:{user:function(t){this.content=t.content?t.content:"",this.title=t.title?t.title:"提示",this.warnIcon=!!t.warnIcon&&t.warnIcon,this.confirmText=t.confirmText?t.confirmText:"",this.confirmClick=!!t.confirmClick&&t.confirmClick,this.confirmStyle=t.confirmStyle?t.confirmStyle:{},this.cancelText=t.cancelText?t.cancelText:"",this.cancelClick=!!t.cancelClick&&t.cancelClick,this.cancelStyle=t.cancelStyle?t.cancelStyle:{},this.isVisible=!0},hide:function(){this.isVisible=!1},submitConfirm:function(){this.confirmClick&&(this.confirmClick(),this.hide())},submitCancel:function(){this.cancelClick&&this.cancelClick(),this.hide()}}}},160:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"ModalsLoading",data:function(){return{isVisible:!1,content:""}},methods:{loading:function(t){this.content=t||"加载中...",this.isVisible=!0},unload:function(){this.isVisible=!1}}}},161:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"modalsMessage",data:function(){return{isVisible:!1,active:!1,content:"",delayTime:1500,time:!1}},methods:{show:function(t,e){e&&(this.delayTime=e),this.time&&(clearTimeout(this.time),this.time=!1),this.content=t||"",this.isVisible=!0,this.active=!0,this.hide()},hide:function(){var t=this;t.time=setTimeout(function(){t.active=!1,setTimeout(function(){t.isVisible=!1},500)},t.delayTime)}}}},162:function(t,e,n){"use strict";var i=function(){return n.e(10).then(n.bind(null,312))},a=function(){return n.e(2).then(n.bind(null,311))},s=function(){return n.e(4).then(n.bind(null,314))},o=function(){return n.e(5).then(n.bind(null,313))};e.a=[{path:"/contacts",redirect:"/contacts/index"},{path:"/contacts",component:i,children:[{path:"index",name:"ContactsList",component:a,meta:{title:"联系人"}},{path:"userDetail/:mobile",name:"UserDetail",component:s,meta:{title:"用户详情"}},{path:"searchUser",name:"SearchUser",component:o,meta:{title:"添加查询"}}]}]},163:function(t,e,n){"use strict";var i=function(){return n.e(8).then(n.bind(null,318))},a=function(){return n.e(0).then(n.bind(null,317))},s=function(){return n.e(1).then(n.bind(null,316))};e.a=[{path:"/message",redirect:"/message/index"},{path:"/message",component:i,children:[{path:"index",name:"MessageIndex",component:a,meta:{title:"消息"}},{path:"chat/:mobile",name:"MessageChat",component:s,meta:{title:"聊天"}}]}]},164:function(t,e,n){"use strict";var i=function(){return n.e(6).then(n.bind(null,321))},a=function(){return n.e(3).then(n.bind(null,320))};e.a=[{path:"/user",redirect:"/user/index"},{path:"/user",component:i,children:[{path:"index",name:"user",component:a,meta:{title:"个人中心"}}]}]},165:function(t,e,n){"use strict";var i=n(177),a=n.n(i),s=n(45);e.a={bind:function(t,e){var n=new a.a(t);n.on("success",function(t){t.clearSelection(),s.a.show(e.value||"复制成功")}),n.on("error",function(t){s.b.use({title:"提示",content:"系统版本过低，请长按选择复制",type:"error",confirmButtonText:"关闭"})})}}},166:function(t,e,n){"use strict";var i=n(168);e.a={userResigter:function(t){return n.i(i.a)({method:"POST",url:"/api/client/register",data:t})},userLogin:function(t){return n.i(i.a)({method:"POST",url:"/api/client/login",data:t})},getUserInfo:function(t){return n.i(i.a)({method:"GET",url:"/api/client/userInfo",params:t})},outUser:function(){return n.i(i.a)({method:"GET",url:"/api/client/logout"})},getUserFriendList:function(t){return n.i(i.a)({method:"GET",url:"/api/client/getFriendList",params:t})},searchUserList:function(t){return n.i(i.a)({method:"GET",url:"/api/client/userList",params:t})},sendFriendMessage:function(t){return n.i(i.a)({method:"POST",url:"/api/client/sendFriendMessage",data:t})},queryFriendMessage:function(t){return n.i(i.a)({method:"POST",url:"/api/client/queryFriendMessage",data:t})},chickIsFriend:function(t){return n.i(i.a)({method:"GET",url:"/api/client/chickIsFriend",params:t})},addUserFriend:function(t){return n.i(i.a)({method:"POST",url:"/api/client/addFriend",data:t})},setInchatStatus:function(t){return n.i(i.a)({method:"PUT",url:"/api/client/setInchatStatus",data:t})}}},167:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(7),a=n.n(i),s=n(132),o=n.n(s),r=n(65),c=n(44),u=n(131),l=n(130),d=(n.n(l),n(129),n(128));a.a.directive("clipboard",d.a),a.a.use(u.a),a.a.config.productionTip=!1,c.a.beforeEach(function(t,e,n){document.title=t.meta.title,n()}),new a.a({el:"#app",router:c.a,store:r.a,components:{App:o.a},template:"<App/>"})},168:function(t,e,n){"use strict";var i=n(74),a=n.n(i),s=n(138),o=n.n(s),r=n(45),c=n(44),u=o.a.create({baseURL:"/",timeout:5e3});u.interceptors.request.use(function(t){return t},function(t){return console.log(t),a.a.reject(t)}),u.interceptors.response.use(function(t){var e=t.data;return 401===e.statusCode&&r.b.use({content:"登录失效，请重新登录！",onClickConfirm:function(){c.a.push({name:"login"}),r.b.hide()}}),200!==e.statusCode?(r.a.show(e.message||"Error",2e3),a.a.reject(new Error(e.message||"Error"))):e},function(t){return console.log("err"+t),r.a.show(t.message,2e3),a.a.reject(t)}),e.a=u},169:function(t,e,n){"use strict";var i=n(7),a=n.n(i),s=n(296),o=n.n(s),r=!1;o.a.installMessage=function(){if(r)return r;var t=a.a.extend(o.a),e=new t({}).$mount();return document.querySelector("body").appendChild(e.$el),r=e};var c=function(){this.instance=o.a.installMessage()};c.prototype.use=function(t){this.instance||(this.instance=o.a.installMessage()),this.instance.use(t)},c.prototype.hide=function(){this.instance||(this.instance=o.a.installMessage()),this.instance.hide()};var u=new c;e.a=u},170:function(t,e,n){"use strict";var i=n(7),a=n.n(i),s=n(297),o=n.n(s),r=!1;o.a.installMessage=function(){if(r)return r;var t=a.a.extend(o.a),e=new t({}).$mount();return document.querySelector("body").appendChild(e.$el),r=e};var c=function(){this.instance=o.a.installMessage()};c.prototype.use=function(t){this.instance||(this.instance=o.a.installMessage()),this.instance.user(t)},c.prototype.hide=function(){this.instance||(this.instance=o.a.installMessage()),this.instance.hide()};var u=new c;e.a=u},171:function(t,e,n){"use strict";var i=n(7),a=n.n(i),s=n(298),o=n.n(s),r=!1;o.a.installMessage=function(){if(r)return r;var t=a.a.extend(o.a),e=new t({}).$mount();return document.querySelector("body").appendChild(e.$el),r=e};var c=function(){this.instance=o.a.installMessage()};c.prototype.loading=function(t){this.instance||(this.instance=o.a.installMessage()),this.instance.loading(t)},c.prototype.unload=function(){this.instance||(this.instance=o.a.installMessage()),this.instance.unload()};var u=new c;e.a=u},172:function(t,e,n){"use strict";var i=n(7),a=n.n(i),s=n(299),o=n.n(s),r=!1;o.a.installMessage=function(){if(r)return r;var t=a.a.extend(o.a),e=new t({}).$mount();return document.querySelector("body").appendChild(e.$el),r=e};var c=function(){this.instance=o.a.installMessage()};c.prototype.show=function(t,e){this.instance||(this.instance=o.a.installMessage()),this.instance.show(t,e)};var u=new c;e.a=u},173:function(t,e,n){"use strict";var i={token:function(t){return t.user.token},avatar:function(t){return t.user.avatar},nickname:function(t){return t.user.nickname},mobile:function(t){return t.user.mobile},userId:function(t){return t.user.userInfo.userId}};e.a=i},174:function(t,e,n){"use strict";var i=n(74),a=n.n(i),s=n(133),o=n(45),r=n(68),c={mobile:"",nickname:"",avatar:"",email:"",rule:[],token:"",userInfo:{}},u={SET_MOBILE:function(t,e){t.mobile=e},SET_NICKNAME:function(t,e){t.nickname=e},SET_AVATAR:function(t,e){t.avatar=e},SET_EMAIL:function(t,e){t.email=e},SET_USERINFO:function(t,e){t.userInfo=e},SET_TOKEN:function(t,e){t.token=e}},l={Login:function(t,e){var n=t.commit;return new a.a(function(t,i){s.a.userLogin({mobile:e.mobile.trim(),password:e.password.trim()}).then(function(e){200===e.statusCode?(n("SET_MOBILE",e.data.mobile),n("SET_NICKNAME",e.data.nickname),n("SET_AVATAR",e.data.avatar),n("SET_EMAIL",e.data.email),n("SET_USERINFO",e.data),n("SET_TOKEN",e.data.mobile),r.a.setToken(e.data.mobile),t(e)):111===e.statusCode?o.a.show(e.message,1e3):413===e.statusCode?o.a.show("验证码错误，请重试",1e3):o.b.use({content:e.message})}).catch(function(t){i(t)})})},GetUserInfo:function(t,e){var n=t.commit;return new a.a(function(t,i){s.a.getUserInfo({mobile:e.mobile.trim()}).then(function(e){200===e.statusCode?(n("SET_MOBILE",e.data.mobile),n("SET_NICKNAME",e.data.nickname),n("SET_AVATAR",e.data.avatar),n("SET_EMAIL",e.data.email),n("SET_USERINFO",e.data),n("SET_TOKEN",e.data.mobile),r.a.setToken(e.data.mobile),t(e)):111===e.statusCode?o.a.show(e.message,1e3):413===e.statusCode?o.a.show("验证码错误，请重试",1e3):o.b.use({content:e.message})}).catch(function(t){i(t)})})},Logout:function(t){var e=t.commit;return new a.a(function(t,n){s.a.outUser().then(function(n){200===n.statusCode?(e("SET_TOKEN",""),r.a.removeToken(),t(n)):o.b.use({content:n.message})}).catch(function(t){n(t)})})}};e.a={namespaced:!0,state:c,mutations:u,actions:l}},175:function(t,e,n){"use strict";function i(t,e){function n(){var n=document.documentElement,i=n.clientWidth||640;n.style.fontSize=i/t*e+"px"}t=t||750,e=e||100,n(),window.addEventListener("orientationchange"in window?"orientationchange":"resize",n)}n.d(e,"a",function(){return i})},207:function(t,e){},208:function(t,e){},209:function(t,e){},210:function(t,e){},211:function(t,e){},212:function(t,e){},295:function(t,e,n){function i(t){n(212)}var a=n(23)(n(157),n(305),i,"data-v-b00d2f44",null);t.exports=a.exports},296:function(t,e,n){function i(t){n(209)}var a=n(23)(n(158),n(302),i,"data-v-716d000c",null);t.exports=a.exports},297:function(t,e,n){function i(t){n(211)}var a=n(23)(n(159),n(304),i,"data-v-9fd9d4d4",null);t.exports=a.exports},298:function(t,e,n){function i(t){n(207)}var a=n(23)(n(160),n(300),i,null,null);t.exports=a.exports},299:function(t,e,n){function i(t){n(208)}var a=n(23)(n(161),n(301),i,"data-v-3d837c2f",null);t.exports=a.exports},300:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"slide-modals"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isVisible,expression:"isVisible"}],staticClass:"modals-container"},[n("div",{staticClass:"modal-loading"},[n("div",{staticClass:"spinner"},[n("div",{staticClass:"cicon loadding-1 icon-loading_1"}),t._v(" "),n("div",{staticClass:"cicon loadding-2 icon-loading_2"})]),t._v(" "),n("p",{staticClass:"loading-content"},[t._v("\n        "+t._s(t.content)+"\n      ")])])])])},staticRenderFns:[]}},301:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"slide-modals"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isVisible,expression:"isVisible"}],staticClass:"modals-message-content"},[n("div",{staticClass:"content",class:{active:t.active}},[n("span",[t._v(t._s(t.content))])])])])},staticRenderFns:[]}},302:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"slide-modals"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isVisible,expression:"isVisible"}],staticClass:"modals-container"},[n("div",{staticClass:"modal-alert"},[t.title?n("div",{staticClass:"title"},[t._v("\n        "+t._s(t.title)+"\n      ")]):t._e(),t._v(" "),n("div",{staticClass:"message"},[t._v("\n        "+t._s(t.content)+"\n      ")]),t._v(" "),n("div",{staticClass:"confirm",on:{click:t.submitComfirm}},[t._v("\n        "+t._s(t.confirmText||"确定")+"\n      ")])])])])},staticRenderFns:[]}},303:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]}},304:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"slide-modals"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isVisible,expression:"isVisible"}],staticClass:"modals-container"},[n("div",{staticClass:"modal-confirm",class:{icon:t.warnIcon}},[t.title&&!t.warnIcon?n("div",{staticClass:"title"},[t._v("\n                "+t._s(t.title)+"\n            ")]):t._e(),t._v(" "),n("div",{staticClass:"message"},[t._v("\n                "+t._s(t.content)+"\n            ")]),t._v(" "),n("div",{staticClass:"modal-button"},[n("div",{staticClass:"cancel",style:t.cancelStyle,on:{click:t.submitCancel}},[t._v("\n                    "+t._s(t.cancelText||"取消")+"\n                ")]),t._v(" "),n("div",{staticClass:"confirm",style:t.confirmStyle,on:{click:t.submitConfirm}},[t._v("\n                    "+t._s(t.confirmText||"确定")+"\n                ")])])])])])},staticRenderFns:[]}},305:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"outLayout",staticClass:"layout-outer"},[n("router-view")],1)},staticRenderFns:[]}},44:function(t,e,n){"use strict";var i=n(137),a=n.n(i),s=n(7),o=n.n(s),r=n(306),c=n(295),u=n.n(c),l=n(163),d=n(162),f=n(164),m=function(){return n.e(9).then(n.bind(null,315))},h=function(){return n.e(7).then(n.bind(null,319))};o.a.use(r.a),e.a=new r.a({mode:"history",routes:[{path:"/",redirect:"/message/index"},{path:"/login",name:"login",component:m,meta:{title:"登录"}},{path:"/registe",name:"registe",component:h,meta:{title:"注册"}},{path:"/",component:u.a,children:[].concat(a()(l.a),a()(d.a),a()(f.a))},{path:"*",redirect:"/message/index"}]})},45:function(t,e,n){"use strict";var i=n(172),a=n(171),s=n(169),o=n(170);n.d(e,"a",function(){return i.a}),n.d(e,"c",function(){return a.a}),n.d(e,"b",function(){return s.a}),n.d(e,"d",function(){return o.a})},65:function(t,e,n){"use strict";var i=n(136),a=n(174),s=n(173),o=new i.a.Store({modules:{user:a.a},getters:s.a});e.a=o},68:function(t,e,n){"use strict";var i=n(214),a=n.n(i),s=function(){this.getToken=function(){return a.a.get("Admin-Token")},this.setToken=function(t){return a.a.set("Admin-Token",t)},this.removeToken=function(){return a.a.remove("Admin-Token")}};e.a=new s},7:function(t,e){t.exports=Vue}},[167]);
//# sourceMappingURL=app.ca299cf4a1e883c950c8.js.map