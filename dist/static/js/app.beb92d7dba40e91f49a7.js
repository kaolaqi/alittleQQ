webpackJsonp([12],{129:function(e,t,n){"use strict";var i=n(165);n.d(t,"a",function(){return i.a})},130:function(e,t,n){"use strict";var i=n(44),a=n(65),s=n(68),o=["/login","/registe"];i.a.beforeEach(function(e,t,n){var i=s.a.getToken();if(i)if("/login"===e.path)n({path:"/"});else{var r=a.a.getters.userId;r?n():a.a.dispatch("user/GetUserInfo",{mobile:i}).then(function(){n()})}else-1!==o.indexOf(e.path)?n():n("/login?redirect="+e.path)})},131:function(e,t){},133:function(e,t,n){function i(e){n(211)}var a=n(23)(n(156),n(304),i,null,null);e.exports=a.exports},134:function(e,t,n){"use strict";var i=n(166);n.d(t,"a",function(){return i.a})},156:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(176);t.default={name:"App",created:function(){n.i(i.a)(750);var e=0;document.addEventListener("touchstart",function(e){e.touches.length>1&&e.preventDefault()}),document.addEventListener("touchend",function(t){var n=(new Date).getTime();n-e<=300&&t.preventDefault(),e=n},!1),document.addEventListener("gesturestart",function(e){e.preventDefault()}),document.addEventListener("gestureend",function(e){e.preventDefault()})}}},157:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(173);t.default={name:"LayoutIndex",created:function(){n.i(i.a)({pageShareTitle:"alitterQQ —— 一个简易的聊天室",pageShareURL:"http://www.nglmq.com:8040/",pageShareimgURL:"http://nglmq.com/images/avatar.jpg",pageShareDesc:"快来注册alittleQQ，邀请好友一起玩耍"})}}},158:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"ModalsAlert",data:function(){return{isVisible:!1,title:"",content:"",confirmText:"",onClickConfirm:!1}},methods:{use:function(e){this.title=e.title?e.title:"提示",this.content=e.content?e.content:"",this.confirmText=e.confirmText?e.confirmText:"",this.onClickConfirm=e.onClickConfirm?e.onClickConfirm:"",this.isVisible=!0},hide:function(){this.isVisible=!1},submitComfirm:function(){this.onClickConfirm&&this.onClickConfirm(),this.hide()}}}},159:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"modalsConfirm",data:function(){return{isVisible:!1,title:"",warnIcon:!1,content:"",confirmText:"",confirmStyle:{},confirmClick:!1,cancelText:"",cancelStyle:{},cancelClick:!1}},methods:{user:function(e){this.content=e.content?e.content:"",this.title=e.title?e.title:"提示",this.warnIcon=!!e.warnIcon&&e.warnIcon,this.confirmText=e.confirmText?e.confirmText:"",this.confirmClick=!!e.confirmClick&&e.confirmClick,this.confirmStyle=e.confirmStyle?e.confirmStyle:{},this.cancelText=e.cancelText?e.cancelText:"",this.cancelClick=!!e.cancelClick&&e.cancelClick,this.cancelStyle=e.cancelStyle?e.cancelStyle:{},this.isVisible=!0},hide:function(){this.isVisible=!1},submitConfirm:function(){this.confirmClick&&(this.confirmClick(),this.hide())},submitCancel:function(){this.cancelClick&&this.cancelClick(),this.hide()}}}},160:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"ModalsLoading",data:function(){return{isVisible:!1,content:""}},methods:{loading:function(e){this.content=e||"加载中...",this.isVisible=!0},unload:function(){this.isVisible=!1}}}},161:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"modalsMessage",data:function(){return{isVisible:!1,active:!1,content:"",delayTime:1500,time:!1}},methods:{show:function(e,t){t&&(this.delayTime=t),this.time&&(clearTimeout(this.time),this.time=!1),this.content=e||"",this.isVisible=!0,this.active=!0,this.hide()},hide:function(){var e=this;e.time=setTimeout(function(){e.active=!1,setTimeout(function(){e.isVisible=!1},500)},e.delayTime)}}}},162:function(e,t,n){"use strict";var i=function(){return n.e(10).then(n.bind(null,313))},a=function(){return n.e(2).then(n.bind(null,312))},s=function(){return n.e(4).then(n.bind(null,315))},o=function(){return n.e(5).then(n.bind(null,314))};t.a=[{path:"/contacts",redirect:"/contacts/index"},{path:"/contacts",component:i,children:[{path:"index",name:"ContactsList",component:a,meta:{title:"联系人"}},{path:"userDetail/:mobile",name:"UserDetail",component:s,meta:{title:"用户详情"}},{path:"searchUser",name:"SearchUser",component:o,meta:{title:"添加查询"}}]}]},163:function(e,t,n){"use strict";var i=function(){return n.e(8).then(n.bind(null,319))},a=function(){return n.e(0).then(n.bind(null,318))},s=function(){return n.e(1).then(n.bind(null,317))};t.a=[{path:"/message",redirect:"/message/index"},{path:"/message",component:i,children:[{path:"index",name:"MessageIndex",component:a,meta:{title:"消息"}},{path:"chat/:mobile",name:"MessageChat",component:s,meta:{title:"聊天"}}]}]},164:function(e,t,n){"use strict";var i=function(){return n.e(6).then(n.bind(null,322))},a=function(){return n.e(3).then(n.bind(null,321))};t.a=[{path:"/user",redirect:"/user/index"},{path:"/user",component:i,children:[{path:"index",name:"user",component:a,meta:{title:"个人中心"}}]}]},165:function(e,t,n){"use strict";var i=n(178),a=n.n(i),s=n(45);t.a={bind:function(e,t){var n=new a.a(e);n.on("success",function(e){e.clearSelection(),s.a.show(t.value||"复制成功")}),n.on("error",function(e){s.b.use({title:"提示",content:"系统版本过低，请长按选择复制",type:"error",confirmButtonText:"关闭"})})}}},166:function(e,t,n){"use strict";var i=n(168);t.a={userResigter:function(e){return n.i(i.a)({method:"POST",url:"/api/client/register",data:e})},userLogin:function(e){return n.i(i.a)({method:"POST",url:"/api/client/login",data:e})},getUserInfo:function(e){return n.i(i.a)({method:"GET",url:"/api/client/userInfo",params:e})},outUser:function(){return n.i(i.a)({method:"GET",url:"/api/client/logout"})},getUserFriendList:function(e){return n.i(i.a)({method:"GET",url:"/api/client/getFriendList",params:e})},searchUserList:function(e){return n.i(i.a)({method:"GET",url:"/api/client/userList",params:e})},sendFriendMessage:function(e){return n.i(i.a)({method:"POST",url:"/api/client/sendFriendMessage",data:e})},queryFriendMessage:function(e){return n.i(i.a)({method:"POST",url:"/api/client/queryFriendMessage",data:e})},chickIsFriend:function(e){return n.i(i.a)({method:"GET",url:"/api/client/chickIsFriend",params:e})},addUserFriend:function(e){return n.i(i.a)({method:"POST",url:"/api/client/addFriend",data:e})},setInchatStatus:function(e){return n.i(i.a)({method:"PUT",url:"/api/client/setInchatStatus",data:e})}}},167:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),a=n.n(i),s=n(133),o=n.n(s),r=n(65),c=n(44),u=n(132),l=n(131),d=(n.n(l),n(130),n(129));a.a.directive("clipboard",d.a),a.a.use(u.a),a.a.config.productionTip=!1,c.a.beforeEach(function(e,t,n){document.title=e.meta.title,n()}),new a.a({el:"#app",router:c.a,store:r.a,components:{App:o.a},template:"<App/>"})},168:function(e,t,n){"use strict";var i=n(75),a=n.n(i),s=n(69),o=n.n(s),r=n(45),c=n(44),u=o.a.create({baseURL:"/",timeout:5e3});u.interceptors.request.use(function(e){return e},function(e){return console.log(e),a.a.reject(e)}),u.interceptors.response.use(function(e){var t=e.data;return 401===t.statusCode&&r.b.use({content:"登录失效，请重新登录！",onClickConfirm:function(){c.a.push({name:"login"}),r.b.hide()}}),200!==t.statusCode?(r.a.show(t.message||"Error",2e3),a.a.reject(new Error(t.message||"Error"))):t},function(e){return console.log("err"+e),r.a.show(e.message,2e3),a.a.reject(e)}),t.a=u},169:function(e,t,n){"use strict";var i=n(7),a=n.n(i),s=n(297),o=n.n(s),r=!1;o.a.installMessage=function(){if(r)return r;var e=a.a.extend(o.a),t=new e({}).$mount();return document.querySelector("body").appendChild(t.$el),r=t};var c=function(){this.instance=o.a.installMessage()};c.prototype.use=function(e){this.instance||(this.instance=o.a.installMessage()),this.instance.use(e)},c.prototype.hide=function(){this.instance||(this.instance=o.a.installMessage()),this.instance.hide()};var u=new c;t.a=u},170:function(e,t,n){"use strict";var i=n(7),a=n.n(i),s=n(298),o=n.n(s),r=!1;o.a.installMessage=function(){if(r)return r;var e=a.a.extend(o.a),t=new e({}).$mount();return document.querySelector("body").appendChild(t.$el),r=t};var c=function(){this.instance=o.a.installMessage()};c.prototype.use=function(e){this.instance||(this.instance=o.a.installMessage()),this.instance.user(e)},c.prototype.hide=function(){this.instance||(this.instance=o.a.installMessage()),this.instance.hide()};var u=new c;t.a=u},171:function(e,t,n){"use strict";var i=n(7),a=n.n(i),s=n(299),o=n.n(s),r=!1;o.a.installMessage=function(){if(r)return r;var e=a.a.extend(o.a),t=new e({}).$mount();return document.querySelector("body").appendChild(t.$el),r=t};var c=function(){this.instance=o.a.installMessage()};c.prototype.loading=function(e){this.instance||(this.instance=o.a.installMessage()),this.instance.loading(e)},c.prototype.unload=function(){this.instance||(this.instance=o.a.installMessage()),this.instance.unload()};var u=new c;t.a=u},172:function(e,t,n){"use strict";var i=n(7),a=n.n(i),s=n(300),o=n.n(s),r=!1;o.a.installMessage=function(){if(r)return r;var e=a.a.extend(o.a),t=new e({}).$mount();return document.querySelector("body").appendChild(t.$el),r=t};var c=function(){this.instance=o.a.installMessage()};c.prototype.show=function(e,t){this.instance||(this.instance=o.a.installMessage()),this.instance.show(e,t)};var u=new c;t.a=u},173:function(e,t,n){"use strict";function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=encodeURIComponent(window.location.href.split("#")[0]),n=s.serverHost+"/wxsdk/getSdkSign?url="+t;a.get(n).then(function(t){if(console.log(t),200!==t.status)return void console.log("签名认证错！");var n=t.data,i=window.wx,a=function(){i.config({debug:!1,appId:"wxdc258dc994aea4db",timestamp:+n.timestamp,nonceStr:n.nonceStr,signature:n.signature,jsApiList:["onMenuShareTimeline","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone","onMenuShareAppMessage","previewImage","uploadVoice","downloadVoice","chooseImage","previewImage","uploadImage","downloadImage"]});var t={title:e.pageShareTitle||"",link:e.pageShareURL?e.pageShareURL:n.url,imgUrl:e.pageShareimgURL?e.pageShareimgURL+"?x-oss-process=image/resize,m_fixed,w_200,h_200/quality,Q_60":"https://glhres.oss-cn-hangzhou.aliyuncs.com/images/logo_share_zhengu.png?x-oss-process=image/resize,m_fixed,w_200,h_200/quality,Q_60",desc:e.pageShareDesc};i.ready(function(){i.onMenuShareTimeline({title:t.title,link:t.link,imgUrl:t.imgUrl}),i.onMenuShareQQ(t),i.onMenuShareWeibo(t),i.onMenuShareQZone(t),i.onMenuShareAppMessage({title:t.title,desc:t.desc,link:t.link,imgUrl:t.imgUrl,dataUrl:"",type:"link"})})};i?a():setTimeout(function(){a()},2e3)})}t.a=i;var a=n(69),s={serverPort:3e3,serverHost:"http://www.nglmq.com"}},174:function(e,t,n){"use strict";var i={token:function(e){return e.user.token},avatar:function(e){return e.user.avatar},nickname:function(e){return e.user.nickname},mobile:function(e){return e.user.mobile},userId:function(e){return e.user.userInfo.userId}};t.a=i},175:function(e,t,n){"use strict";var i=n(75),a=n.n(i),s=n(134),o=n(45),r=n(68),c={mobile:"",nickname:"",avatar:"",email:"",rule:[],token:"",userInfo:{}},u={SET_MOBILE:function(e,t){e.mobile=t},SET_NICKNAME:function(e,t){e.nickname=t},SET_AVATAR:function(e,t){e.avatar=t},SET_EMAIL:function(e,t){e.email=t},SET_USERINFO:function(e,t){e.userInfo=t},SET_TOKEN:function(e,t){e.token=t}},l={Login:function(e,t){var n=e.commit;return new a.a(function(e,i){s.a.userLogin({mobile:t.mobile.trim(),password:t.password.trim()}).then(function(t){200===t.statusCode?(n("SET_MOBILE",t.data.mobile),n("SET_NICKNAME",t.data.nickname),n("SET_AVATAR",t.data.avatar),n("SET_EMAIL",t.data.email),n("SET_USERINFO",t.data),n("SET_TOKEN",t.data.mobile),r.a.setToken(t.data.mobile),e(t)):111===t.statusCode?o.a.show(t.message,1e3):413===t.statusCode?o.a.show("验证码错误，请重试",1e3):o.b.use({content:t.message})}).catch(function(e){i(e)})})},GetUserInfo:function(e,t){var n=e.commit;return new a.a(function(e,i){s.a.getUserInfo({mobile:t.mobile.trim()}).then(function(t){200===t.statusCode?(n("SET_MOBILE",t.data.mobile),n("SET_NICKNAME",t.data.nickname),n("SET_AVATAR",t.data.avatar),n("SET_EMAIL",t.data.email),n("SET_USERINFO",t.data),n("SET_TOKEN",t.data.mobile),r.a.setToken(t.data.mobile),e(t)):111===t.statusCode?o.a.show(t.message,1e3):413===t.statusCode?o.a.show("验证码错误，请重试",1e3):o.b.use({content:t.message})}).catch(function(e){i(e)})})},Logout:function(e){var t=e.commit;return new a.a(function(e,n){s.a.outUser().then(function(n){200===n.statusCode?(t("SET_TOKEN",""),r.a.removeToken(),e(n)):o.b.use({content:n.message})}).catch(function(e){n(e)})})}};t.a={namespaced:!0,state:c,mutations:u,actions:l}},176:function(e,t,n){"use strict";function i(e,t){function n(){var n=document.documentElement,i=n.clientWidth||640;n.style.fontSize=i/e*t+"px"}e=e||750,t=t||100,n(),window.addEventListener("orientationchange"in window?"orientationchange":"resize",n)}n.d(t,"a",function(){return i})},208:function(e,t){},209:function(e,t){},210:function(e,t){},211:function(e,t){},212:function(e,t){},213:function(e,t){},296:function(e,t,n){function i(e){n(213)}var a=n(23)(n(157),n(306),i,"data-v-b00d2f44",null);e.exports=a.exports},297:function(e,t,n){function i(e){n(210)}var a=n(23)(n(158),n(303),i,"data-v-716d000c",null);e.exports=a.exports},298:function(e,t,n){function i(e){n(212)}var a=n(23)(n(159),n(305),i,"data-v-9fd9d4d4",null);e.exports=a.exports},299:function(e,t,n){function i(e){n(208)}var a=n(23)(n(160),n(301),i,null,null);e.exports=a.exports},300:function(e,t,n){function i(e){n(209)}var a=n(23)(n(161),n(302),i,"data-v-3d837c2f",null);e.exports=a.exports},301:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"slide-modals"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isVisible,expression:"isVisible"}],staticClass:"modals-container"},[n("div",{staticClass:"modal-loading"},[n("div",{staticClass:"spinner"},[n("div",{staticClass:"cicon loadding-1 icon-loading_1"}),e._v(" "),n("div",{staticClass:"cicon loadding-2 icon-loading_2"})]),e._v(" "),n("p",{staticClass:"loading-content"},[e._v("\n        "+e._s(e.content)+"\n      ")])])])])},staticRenderFns:[]}},302:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"slide-modals"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isVisible,expression:"isVisible"}],staticClass:"modals-message-content"},[n("div",{staticClass:"content",class:{active:e.active}},[n("span",[e._v(e._s(e.content))])])])])},staticRenderFns:[]}},303:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"slide-modals"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isVisible,expression:"isVisible"}],staticClass:"modals-container"},[n("div",{staticClass:"modal-alert"},[e.title?n("div",{staticClass:"title"},[e._v("\n        "+e._s(e.title)+"\n      ")]):e._e(),e._v(" "),n("div",{staticClass:"message"},[e._v("\n        "+e._s(e.content)+"\n      ")]),e._v(" "),n("div",{staticClass:"confirm",on:{click:e.submitComfirm}},[e._v("\n        "+e._s(e.confirmText||"确定")+"\n      ")])])])])},staticRenderFns:[]}},304:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]}},305:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"slide-modals"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isVisible,expression:"isVisible"}],staticClass:"modals-container"},[n("div",{staticClass:"modal-confirm",class:{icon:e.warnIcon}},[e.title&&!e.warnIcon?n("div",{staticClass:"title"},[e._v("\n                "+e._s(e.title)+"\n            ")]):e._e(),e._v(" "),n("div",{staticClass:"message"},[e._v("\n                "+e._s(e.content)+"\n            ")]),e._v(" "),n("div",{staticClass:"modal-button"},[n("div",{staticClass:"cancel",style:e.cancelStyle,on:{click:e.submitCancel}},[e._v("\n                    "+e._s(e.cancelText||"取消")+"\n                ")]),e._v(" "),n("div",{staticClass:"confirm",style:e.confirmStyle,on:{click:e.submitConfirm}},[e._v("\n                    "+e._s(e.confirmText||"确定")+"\n                ")])])])])])},staticRenderFns:[]}},306:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"outLayout",staticClass:"layout-outer"},[n("router-view")],1)},staticRenderFns:[]}},44:function(e,t,n){"use strict";var i=n(138),a=n.n(i),s=n(7),o=n.n(s),r=n(307),c=n(296),u=n.n(c),l=n(163),d=n(162),f=n(164),m=function(){return n.e(9).then(n.bind(null,316))},h=function(){return n.e(7).then(n.bind(null,320))};o.a.use(r.a),t.a=new r.a({mode:"history",routes:[{path:"/",redirect:"/message/index"},{path:"/login",name:"login",component:m,meta:{title:"登录"}},{path:"/registe",name:"registe",component:h,meta:{title:"注册"}},{path:"/",component:u.a,children:[].concat(a()(l.a),a()(d.a),a()(f.a))},{path:"*",redirect:"/message/index"}]})},45:function(e,t,n){"use strict";var i=n(172),a=n(171),s=n(169),o=n(170);n.d(t,"a",function(){return i.a}),n.d(t,"c",function(){return a.a}),n.d(t,"b",function(){return s.a}),n.d(t,"d",function(){return o.a})},65:function(e,t,n){"use strict";var i=n(137),a=n(175),s=n(174),o=new i.a.Store({modules:{user:a.a},getters:s.a});t.a=o},68:function(e,t,n){"use strict";var i=n(215),a=n.n(i),s=function(){this.getToken=function(){return a.a.get("Admin-Token")},this.setToken=function(e){return a.a.set("Admin-Token",e)},this.removeToken=function(){return a.a.remove("Admin-Token")}};t.a=new s},7:function(e,t){e.exports=Vue}},[167]);
//# sourceMappingURL=app.beb92d7dba40e91f49a7.js.map